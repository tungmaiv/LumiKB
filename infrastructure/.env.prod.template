# LumiKB Production Environment Variables Template
# Story 7.4: Production Deployment Configuration
#
# Instructions:
# 1. Copy this file to .env.prod: cp .env.prod.template .env.prod
# 2. Fill in all required values (marked with REQUIRED)
# 3. Generate secure secrets for JWT_SECRET and SECRET_KEY
# 4. Never commit .env.prod to version control
#
# Secret Generation Commands:
#   openssl rand -hex 32  # For JWT_SECRET, SECRET_KEY
#   openssl rand -base64 24  # For passwords

# =============================================================================
# Database Configuration (REQUIRED)
# =============================================================================
POSTGRES_USER=lumikb
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD
POSTGRES_DB=lumikb

# =============================================================================
# Redis Configuration
# =============================================================================
# Redis uses default configuration - no authentication in internal network
# For external Redis, add REDIS_PASSWORD and update docker-compose.prod.yml

# =============================================================================
# MinIO Object Storage (REQUIRED)
# =============================================================================
MINIO_ROOT_USER=lumikb_admin
MINIO_ROOT_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# =============================================================================
# Application Secrets (REQUIRED)
# =============================================================================
# Generate with: openssl rand -hex 32
SECRET_KEY=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_HEX_32

# =============================================================================
# LiteLLM Configuration (REQUIRED)
# =============================================================================
# Master key for LiteLLM proxy authentication
# Generate with: openssl rand -hex 32
LITELLM_MASTER_KEY=sk-CHANGE_ME_GENERATE_SECURE_KEY

# =============================================================================
# LLM Provider API Keys (Optional - at least one required for LLM features)
# =============================================================================
# OpenAI API Key (for GPT models and embeddings)
OPENAI_API_KEY=

# Anthropic API Key (for Claude models)
ANTHROPIC_API_KEY=

# Google Gemini API Key
GEMINI_API_KEY=

# Ollama API Base URL (for local models)
# Leave empty if not using Ollama
OLLAMA_API_BASE=

# =============================================================================
# Docker Images (Optional - defaults to :latest tag)
# =============================================================================
# Override to use specific versions or registry paths
# API_IMAGE=your-registry.com/lumikb-api:v1.0.0
# WORKER_IMAGE=your-registry.com/lumikb-worker:v1.0.0
# BEAT_IMAGE=your-registry.com/lumikb-beat:v1.0.0
# FRONTEND_IMAGE=your-registry.com/lumikb-frontend:v1.0.0

# =============================================================================
# Port Configuration (Optional)
# =============================================================================
# Change if default ports conflict with other services
API_PORT=8000
FRONTEND_PORT=3000

# =============================================================================
# Frontend Configuration
# =============================================================================
# Public API URL accessible from browser
# In production, this should be the load balancer or reverse proxy URL
NEXT_PUBLIC_API_URL=http://localhost:8000

# =============================================================================
# Environment Validation
# =============================================================================
# The application will fail to start if these required variables are missing:
# - POSTGRES_PASSWORD
# - MINIO_ROOT_PASSWORD
# - SECRET_KEY
# - JWT_SECRET
# - LITELLM_MASTER_KEY
#
# At least one LLM provider key is needed for chat/generation features:
# - OPENAI_API_KEY, ANTHROPIC_API_KEY, GEMINI_API_KEY, or OLLAMA_API_BASE
